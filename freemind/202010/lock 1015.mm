<map version="1.0.1">
<!-- To view this file, download free mind mapping software FreeMind from http://freemind.sourceforge.net -->
<node CREATED="1602726504536" ID="ID_860873230" MODIFIED="1602726832374" TEXT="&#x9501;lock 1015">
<node CREATED="1602726518837" ID="ID_1313621835" MODIFIED="1602726534303" POSITION="right" TEXT="&#x601d;&#x60f3;">
<node CREATED="1602726534521" ID="ID_954784864" MODIFIED="1602726536357" TEXT="&#x60b2;&#x89c2;&#x9501;">
<node CREATED="1603181536189" ID="ID_1948542561" MODIFIED="1603181541921" TEXT="&#x7761;&#x7720;&#x7b49;&#x5f85;"/>
</node>
<node CREATED="1602726536622" ID="ID_313651114" MODIFIED="1602726537947" TEXT="&#x4e50;&#x89c2;&#x9501;">
<node CREATED="1602726592034" ID="ID_1300858622" MODIFIED="1602726615230" TEXT="&#x9501;&#x7684;&#x5360;&#x6709;&#x65f6;&#x95f4;&#x90fd;&#x5f88;&#x77ed;"/>
<node CREATED="1603181450221" ID="ID_523294321" MODIFIED="1603181451217" TEXT="cas"/>
<node CREATED="1603181451735" ID="ID_1425848104" MODIFIED="1603181455819" TEXT="&#x81ea;&#x65cb;&#x9501;">
<node CREATED="1603181543416" ID="ID_74909502" MODIFIED="1603181548431" TEXT="&#x6d3b;&#x8dc3;&#x7b49;&#x5f85;"/>
</node>
<node CREATED="1603181820682" ID="ID_406959871" MODIFIED="1603181843382" TEXT="&#x76f8;&#x6bd4;&#x60b2;&#x89c2;&#x9501;&#xff0c;&#x7701;&#x53bb;&#x4e86;&#x7528;&#x6237;&#x6001; &#x548c;&#x5185;&#x6838;&#x6001;&#x5207;&#x6362;&#x7684;&#x5f00;&#x9500; "/>
</node>
<node CREATED="1602726561836" ID="ID_1401981021" MODIFIED="1602726591259" TEXT="&#x80cc;&#x540e;&#x7684;&#x60f3;&#x6cd5; &#x4f7f;&#x7528;&#x7684;&#x573a;&#x666f;"/>
</node>
<node CREATED="1602726632265" ID="ID_632275711" MODIFIED="1602726639888" POSITION="right" TEXT="&#x81ea;&#x65cb;&#x9501; spinlock">
<node CREATED="1602726640188" ID="ID_1471844443" MODIFIED="1602726648544" TEXT="&#x9002;&#x7528;&#x4e8e;&#x4e50;&#x89c2;&#x9501;"/>
<node CREATED="1610953437903" ID="ID_590230709" MODIFIED="1610953440396" TEXT="&#x5b9e;&#x73b0;&#x65b9;&#x5f0f;">
<node CREATED="1610953440693" ID="ID_1244913753" MODIFIED="1610953447553" TEXT="&#x7248;&#x672c;&#x53f7;"/>
<node CREATED="1610953447804" ID="ID_233769456" MODIFIED="1610953449996" TEXT="CAS"/>
</node>
<node CREATED="1602726649396" ID="ID_1126280561" MODIFIED="1602726694911" TEXT="&#x5b9e;&#x73b0;&#x65b9;&#x5f0f;">
<node CREATED="1602726682653" ID="ID_705095893" MODIFIED="1602726703251" TEXT="try wait .. &#x5e72;&#x7b49;">
<node CREATED="1603181615735" ID="ID_1360385985" MODIFIED="1603181633782" TEXT="compareAndSet(null, current)">
<node CREATED="1603181645301" ID="ID_1055471931" MODIFIED="1603181646472" TEXT="lock"/>
</node>
<node CREATED="1603181634002" ID="ID_1425213215" MODIFIED="1603181637682" TEXT="cas(current, null)">
<node CREATED="1603181647535" ID="ID_424881451" MODIFIED="1603181666227" TEXT="unlock if is currrent  then set null"/>
</node>
<node CREATED="1603181675060" ID="ID_689851585" MODIFIED="1603181696095" TEXT="&#x592a;&#x5e9f;cpu&#x4e86; &#x4e5f;&#x4e0d;&#x516c;&#x5e73;">
<node CREATED="1603181802819" ID="ID_1601104535" MODIFIED="1603181810471" TEXT="&#x6027;&#x80fd; &#x516c;&#x5e73;&#x6027;"/>
</node>
</node>
<node CREATED="1602726707118" ID="ID_1154036518" MODIFIED="1602726728495" TEXT="TicketLock">
<node CREATED="1602726711469" ID="ID_1097680049" MODIFIED="1602726721477" TEXT="&#x7c7b;&#x4f3c;&#x4e8e;&#x6392;&#x961f;&#x53d6;&#x53f7;"/>
<node CREATED="1603181331307" ID="ID_640579297" MODIFIED="1610962070506" TEXT="&#x89e3;&#x51b3;&#x516c;&#x5e73;&#x95ee;&#x9898;">
<icon BUILTIN="messagebox_warning"/>
</node>
<node CREATED="1603181352754" ID="ID_682781138" MODIFIED="1603181965875" TEXT="&#x6027;&#x80fd;&#x5e76;&#x6ca1;&#x6709;&#x4f18;&#x5316;">
<node CREATED="1603182024315" ID="ID_1212973587" MODIFIED="1603182037307" TEXT="&#x591a;&#x7ebf;&#x7a0b;&#x5171;&#x4eab;&#x603b;&#x7684;token&#x8ba1;&#x6570;"/>
</node>
<node CREATED="1602726794839" ID="ID_138123078" MODIFIED="1602726826672" TEXT="while (myNo != newestNo) { wait ...  }"/>
</node>
<node CREATED="1602726724037" ID="ID_1516313491" MODIFIED="1610962026797" TEXT="CLHLock">
<node CREATED="1602726729241" ID="ID_1072628862" MODIFIED="1602726745806" TEXT="&#x94fe;&#x8868;&#x6392;&#x961f;"/>
<node CREATED="1603182038713" ID="ID_496720145" MODIFIED="1603182054482" TEXT="&#x4f7f;&#x7528;&#x4e86;&#x7ebf;&#x7a0b;&#x5c40;&#x90e8;&#x5b58;&#x50a8;&#xff0c;&#x53ea;&#x6709;&#x7b2c;&#x4e00;&#x6b21;&#x9700;&#x8981;&#x4e00;&#x6b21;&#x5171;&#x4eab;&#x94fe;&#x8868;&#x64cd;&#x4f5c;"/>
<node CREATED="1602726746494" ID="ID_1752266096" MODIFIED="1602726759863" TEXT="&#x6bcf;&#x4e2a;&#x9501;&#x6302;&#x4e00;&#x4e2a;&#x539f;&#x5b50;&#x94fe;&#x8868;&#xff0c;"/>
<node CREATED="1602726760381" ID="ID_1661124299" MODIFIED="1602726772701" TEXT="&#x53ea;&#x6709;pre&#x7684;&#x5904;&#x7406;&#x5b8c;&#x4e86;&#xff0c;&#x624d;&#x4f1a;&#x83b7;&#x5f97;&#x9501;"/>
<node CREATED="1602726773960" ID="ID_815754417" MODIFIED="1602726787072" TEXT="while (pre.IsLock) { wait... }"/>
</node>
<node CREATED="1610965144953" ID="ID_890006047" MODIFIED="1610965153249" TEXT="Ticket vs CLH">
<node CREATED="1610965153250" ID="ID_454637333" MODIFIED="1610965178425" TEXT="&#x9501;&#x5206;&#x4e3a;&#x83b7;&#x53d6;&#x548c;&#x91ca;&#x653e;&#xff0c;&#xff0c;&#x6838;&#x5fc3;&#x6027;&#x80fd;spin&#x83b7;&#x53d6;&#x90a3;&#x91cc;"/>
<node CREATED="1610965179082" ID="ID_1878264516" MODIFIED="1610965195135" TEXT="ticket&#x95ee;&#x9898;&#x662f; &#x5927;&#x5bb6;&#x5171;&#x4eab;&#x5f15;&#x53d1;&#x9501;&#x7ade;&#x4e89;&#x95ee;&#x9898;"/>
<node CREATED="1610965195685" ID="ID_623321879" MODIFIED="1610965238589" TEXT="CLH &#x901a;&#x8fc7;&#x94fe;&#x8868;&#x5316;&#xff0c;&#x4f7f;&#x5f97;&#x6bcf;&#x4e2a;&#x9501;&#x53ea;&#x9700;&#x8981;&#x5173;&#x6ce8;&#x4ed6;&#x7684;pre&#xff0c;&#xff0c;&#x51cf;&#x5c11;&#x4e86;&#x8fd9;&#x79cd;&#x5168;&#x5c40;&#x9501;&#x7ade;&#x4e89;"/>
<node CREATED="1610965227412" ID="ID_1524310119" MODIFIED="1610965285106" TEXT="CLH &#x4e5f;&#x6709;&#x5168;&#x5c40;&#x95ee;&#x9898;&#xff0c;&#x4e5f;&#x5c31;&#x662f;&#x5c06;node&#x4ece;&#x961f;&#x5217;&#x91cc;&#x63d2;&#x5165;&#x6216;&#x5220;&#x9664;&#x7684;&#x65f6;&#x5019;&#xff0c;&#x4f46;&#x8fd9;&#x4e2a;&#x9891;&#x7387;&#x5df2;&#x7ecf;&#x5f88;&#x4f4e;&#x4e86; "/>
</node>
<node CREATED="1602726849951" ID="ID_1069543306" MODIFIED="1602726857380" TEXT="MCSLock">
<node CREATED="1602726858051" ID="ID_71662341" MODIFIED="1602726864158" TEXT="&#x94fe;&#x8868;"/>
<node CREATED="1602727023608" ID="ID_38198058" MODIFIED="1602727034845" TEXT="&#x76f4;&#x63a5;&#x524d;&#x9a71;&#xff1f; &#x4e0d;&#x61c2;...  skip"/>
<node CREATED="1610965360194" ID="ID_1949312215" MODIFIED="1610965386686" TEXT="&#x5b9e;&#x9645;&#x662f;CLH&#x7684;&#x9006;&#x5411;&#x601d;&#x7ef4;&#xff0c;&#xff0c;&#x5f53;&#x524d;&#x8282;&#x70b9;&#x5224;&#x5b9a;&#x81ea;&#x5df1;&#x72b6;&#x6001;&#xff0c;&#xff0c;&#x7136;&#x540e;&#x4e4b;&#x524d;&#x8282;&#x70b9;&#x8bbe;&#x7f6e;&#x5f53;&#x524d;&#x8282;&#x70b9;&#x72b6;&#x6001;"/>
<node CREATED="1610965386951" ID="ID_711654466" MODIFIED="1610965402122" TEXT="&#x72b6;&#x6001;&#x4f20;&#x9012;&#xff0c;&#xff0c;&#x6700;&#x540e;cur.IsLock&#x4e3a;true&#x65f6;&#x83b7;&#x5f97;&#x9501;&#x6210;&#x529f;"/>
</node>
<node CREATED="1610965434489" ID="ID_990125253" MODIFIED="1610965455521" TEXT="&#x4f18;&#x5316;&#x518d;&#x601d;&#x8003;&#xff1a;">
<node CREATED="1610965455774" ID="ID_1409046378" MODIFIED="1610965456512" TEXT=" &#x74f6;&#x9888;&#x5728;&#x54ea;&#x91cc;&#xff1f;&#x4f18;&#x5316;&#x74f6;&#x9888;"/>
<node CREATED="1610965456795" ID="ID_1079445292" MODIFIED="1610965464314" TEXT="&#x601d;&#x8003;&#x6b63;&#x5411;&#x548c;&#x9006;&#x5411;&#x53cc;&#x5411;&#x601d;&#x7ef4;"/>
<node CREATED="1610965466515" ID="ID_582495095" MODIFIED="1610965481503" TEXT="&#x4e0d;&#x5916;&#x4e4e;&#x6700;&#x57fa;&#x672c;&#x7684;&#x6570;&#x636e;&#x7ed3;&#x6784;&#xff0c;&#x961f;&#x5217;&#x94fe;&#x8868;&#x7684;&#x57fa;&#x7840;&#x539f;&#x7406;&#x4e0a;"/>
</node>
</node>
<node CREATED="1603181907776" ID="ID_1561930852" MODIFIED="1603181912771" TEXT="&#x53ef;&#x91cd;&#x5165;&#x6027;">
<node CREATED="1603181912772" ID="ID_1599398200" MODIFIED="1603181918025" TEXT="&#x5f15;&#x5165;&#x4e00;&#x4e2a;count"/>
<node CREATED="1603181923255" ID="ID_659711845" MODIFIED="1603181927745" TEXT="&#x914d;&#x5408;&#x7ebf;&#x7a0b;&#x5c40;&#x90e8;&#x5b58;&#x50a8;"/>
</node>
</node>
<node CREATED="1603182255258" ID="ID_725274379" MODIFIED="1610962039808" POSITION="right" TEXT="ref: https://blog.csdn.net/bandaoyu/article/details/104913950"/>
</node>
</map>

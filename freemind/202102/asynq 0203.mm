<map version="1.0.1">
<!-- To view this file, download free mind mapping software FreeMind from http://freemind.sourceforge.net -->
<node CREATED="1612335102920" ID="ID_1680968269" MODIFIED="1612335118682" TEXT="asynq 0203">
<node CREATED="1612335124500" ID="ID_1438483713" MODIFIED="1612335133848" POSITION="right" TEXT="&#x57fa;&#x4e8e;redis&#x6d41;">
<node CREATED="1612336662084" ID="ID_717099141" MODIFIED="1612337007528" TEXT="&#x5b58;&#x7684;&#x662f;snapshort uuid"/>
</node>
<node CREATED="1612336853099" ID="ID_1803573002" MODIFIED="1612336854855" POSITION="right" TEXT="&#x5b9e;&#x73b0;&#x673a;&#x5236;">
<node CREATED="1612336670002" ID="ID_818713385" MODIFIED="1612336775444" TEXT="snapshort ">
<node CREATED="1612336776172" ID="ID_522867636" MODIFIED="1612336778205" TEXT="uuid">
<node CREATED="1612338974710" ID="ID_368977565" MODIFIED="1612338987554" TEXT="&#x5bf9;&#x5e94;stream&#x91cc;&#x7684;data"/>
</node>
<node CREATED="1612336778472" ID="ID_1865848805" MODIFIED="1612336779914" TEXT="task">
<node CREATED="1612336780497" ID="ID_1474787991" MODIFIED="1612336784849" TEXT="routerKey">
<node CREATED="1612338937886" ID="ID_1668493512" MODIFIED="1612338961277" TEXT="&#x5bf9;&#x5e94;&#x6d41;&#x7684;&#x540d;&#x5b57;"/>
</node>
<node CREATED="1612336816557" ID="ID_475284078" MODIFIED="1612336821911" TEXT="handleUrl">
<node CREATED="1612336821911" ID="ID_821406297" MODIFIED="1612338217546" TEXT="&#x5bf9;&#x5e94;&#x4e00;&#x4e2a;&#x8fdc;&#x7a0b;&#x5904;&#x7406;"/>
<node CREATED="1612338217887" ID="ID_1709627879" MODIFIED="1612338224116" TEXT="&#x4f18;&#x5148;&#x4f7f;&#x7528;url">
<node CREATED="1612338238109" ID="ID_311669719" MODIFIED="1612338243917" TEXT="&#x6ca1;&#x6709;&#x5219;&#x8c03;&#x7528;&#x672c;&#x5730;handleFunc"/>
</node>
</node>
<node CREATED="1612336826156" ID="ID_278169704" MODIFIED="1612336827751" TEXT="args"/>
<node CREATED="1612336827970" ID="ID_245828268" MODIFIED="1612336831485" TEXT="callbackUrl">
<node CREATED="1612336831828" ID="ID_1247387248" MODIFIED="1612336838356" TEXT="&#x5bf9;&#x5e94;&#x56de;&#x8c03;&#x5904;&#x7406;"/>
</node>
</node>
<node CREATED="1612336917436" ID="ID_333083595" MODIFIED="1612336925026" TEXT="&#x5176;&#x4ed6;meta&#x4fe1;&#x606f;">
<node CREATED="1612338467300" ID="ID_1290554647" MODIFIED="1612338473205" TEXT="&#x5982;&#x521b;&#x5efa;&#x65f6;&#x95f4;&#xff0c;&#x91cd;&#x8bd5;&#x7b49;">
<node CREATED="1612338473205" ID="ID_984747759" MODIFIED="1612338479003" TEXT="&#x53ef;&#x5b9e;&#x73b0;&#x4e00;&#x4e9b;&#x7edf;&#x8ba1;&#x4fe1;&#x606f;"/>
<node CREATED="1612338479522" ID="ID_1039336199" MODIFIED="1612338487492" TEXT="&#x5bb9;&#x9519;&#x5904;&#x7406; "/>
</node>
</node>
</node>
<node CREATED="1612337121841" ID="ID_1399158167" MODIFIED="1612337168811" TEXT="&#x57fa;&#x4e8e; url &#x7684;task&#x7cfb;&#x7edf;&#x5728;&#x6269;&#x5c55;&#x6027;&#x4e0a;&#x4f18;&#x4e8e;&#x7b80;&#x5355;&#x7684;&#x56de;&#x8c03;"/>
<node CREATED="1612338139243" ID="ID_1079902589" MODIFIED="1612338377223" TEXT="&#x9488;&#x5bf9;Task&#x7684;handler">
<node CREATED="1612338142094" ID="ID_1648880684" MODIFIED="1612338381829" TEXT="&#x5907;&#x7528;&#xff1a;map string -&gt; handleFunc"/>
<node CREATED="1612338149039" ID="ID_914081298" MODIFIED="1612338391773" TEXT="&#x4f18;&#x5148;&#x4f7f;&#x7528;url&#x6a21;&#x5f0f;&#xff0c;&#x4e0d;&#x8bbe;&#x7f6e;url&#x5219;&#x4e0d;&#x542f;&#x7528;"/>
</node>
<node CREATED="1614320351513" ID="ID_525980896" MODIFIED="1614320408484" TEXT="yy &#x6709;&#x70b9;&#x5206;&#x5e03;&#x5f0f;&#x4efb;&#x52a1;&#x7684;&#x610f;&#x601d; (&#x62bd;&#x8c61;)">
<node CREATED="1614320402843" ID="ID_623672443" MODIFIED="1614320413088" TEXT="topic">
<node CREATED="1614320413089" ID="ID_1725933153" MODIFIED="1614320420335" TEXT="&#x4efb;&#x52a1;&#x7ba1;&#x9053; &#x6216; &#x5206;&#x7c7b; "/>
</node>
<node CREATED="1614320429737" ID="ID_1024931424" MODIFIED="1614320431532" TEXT="task">
<node CREATED="1614320431533" ID="ID_1790897530" MODIFIED="1614320436894" TEXT="id "/>
<node CREATED="1614320437132" ID="ID_185138007" MODIFIED="1614320438781" TEXT="content">
<node CREATED="1614320438781" ID="ID_115489883" MODIFIED="1614320447274" TEXT="callback url &amp; params"/>
</node>
<node CREATED="1614320454505" ID="ID_1927535919" MODIFIED="1614320470193" TEXT="control info or  meta xinfo"/>
</node>
</node>
</node>
<node CREATED="1612338869290" ID="ID_1570585685" MODIFIED="1612338876536" POSITION="right" TEXT="core">
<node CREATED="1612338876819" ID="ID_1502081161" MODIFIED="1612338907872" TEXT="produce(task)">
<node CREATED="1612338893678" ID="ID_917923079" MODIFIED="1612338900538" TEXT="write snapshort"/>
<node CREATED="1612338900848" ID="ID_470834960" MODIFIED="1612338902876" TEXT="write stream"/>
<node CREATED="1612343718551" ID="ID_193936436" MODIFIED="1612343756401" TEXT="&#x662f;&#x4e2a;&#x89e6;&#x53d1;&#x52a8;&#x4f5c;&#xff0c;&#xff0c;&#x5916;&#x754c;&#x9700;&#x8981;&#x65f6;&#x89e6;&#x53d1;"/>
</node>
<node CREATED="1612338879624" ID="ID_1469649799" MODIFIED="1612338881472" TEXT="consume">
<node CREATED="1612340822638" ID="ID_710694865" MODIFIED="1612343945660" TEXT="normal consumer worker">
<node CREATED="1612340825491" ID="ID_1805586351" MODIFIED="1612340829423" TEXT="handler func..."/>
<node CREATED="1612341110914" ID="ID_1157204028" MODIFIED="1612341119811" TEXT="depend concurrency setting"/>
<node CREATED="1612343947216" ID="ID_416763856" MODIFIED="1612343964695" TEXT="reclaim &amp; poll &#x4f1a;&#x901a;&#x8fc7;queue(chan)&#x8f6c;&#x7ed9;worker"/>
</node>
<node CREATED="1612340830455" ID="ID_1578127552" MODIFIED="1612340838290" TEXT="reclaim Consumer">
<node CREATED="1612346125241" ID="ID_135523427" MODIFIED="1612346130017" TEXT="&#x5de7;&#x53d6;&#x8c6a;&#x593a;"/>
</node>
<node CREATED="1612340838766" ID="ID_864925724" MODIFIED="1612340845398" TEXT="poll Consumer">
<node CREATED="1612346117291" ID="ID_124618371" MODIFIED="1612346123820" TEXT="&#x751f;&#x4ea7;&#x6e90;"/>
</node>
<node CREATED="1612343739355" ID="ID_1074543805" MODIFIED="1612343750205" TEXT="&#x662f;&#x4e2a;&#x4e8b;&#x4ef6;&#x9a71;&#x52a8;&#xff0c;&#xff0c;&#x5b9e;&#x9645;&#x8bed;&#x4e49;&#x662f;StartConsume"/>
<node CREATED="1612344140076" ID="ID_674968341" MODIFIED="1612344150354" TEXT="consumer">
<node CREATED="1612344150603" ID="ID_1871549874" MODIFIED="1612344162415" TEXT="1:1 consumerGroup">
<node CREATED="1612344162904" ID="ID_825998794" MODIFIED="1612344166090" TEXT="worker">
<node CREATED="1612344332993" ID="ID_757435630" MODIFIED="1612344334318" TEXT="handle">
<node CREATED="1612344334570" ID="ID_786446618" MODIFIED="1612344342688" TEXT="do (snapshort)"/>
<node CREATED="1612344342968" ID="ID_671865118" MODIFIED="1612344346048" TEXT="del snapshort"/>
<node CREATED="1612344346372" ID="ID_362309098" MODIFIED="1612344350774" TEXT="del stream message"/>
</node>
</node>
<node CREATED="1612344166523" ID="ID_1326592395" MODIFIED="1612344170335" TEXT="reclaim"/>
<node CREATED="1612344170827" ID="ID_1594280819" MODIFIED="1612344175225" TEXT="poll"/>
</node>
<node CREATED="1612344176255" ID="ID_1892220218" MODIFIED="1612344178599" TEXT="1:1 queue"/>
<node CREATED="1612344281140" ID="ID_298434114" MODIFIED="1612344283317" TEXT="1:1 stream"/>
<node CREATED="1612344283657" ID="ID_123932597" MODIFIED="1612344289887" TEXT="1:1 snapshort"/>
</node>
</node>
</node>
<node CREATED="1612339153973" ID="ID_1662596450" MODIFIED="1612339159314" POSITION="right" TEXT="&#x539f;&#x7406;">
<node CREATED="1612339159314" ID="ID_1569430005" MODIFIED="1612339168436" TEXT="&#x672c;&#x8d28;&#x4e0a;&#x662f;&#x4e00;&#x79cd;&#x65e0;&#x72b6;&#x6001;&#x5b9e;&#x73b0;"/>
<node CREATED="1612339170397" ID="ID_1095683870" MODIFIED="1612339189556" TEXT="&#x6216;&#x8005;&#x8bf4;&#x662f;&#x9762;&#x5411;&#x6570;&#x636e;"/>
<node CREATED="1612339191517" ID="ID_238078668" MODIFIED="1612339201031" TEXT="&#x6216;&#x8005;&#x8bf4;&#x662f;&#x89e3;&#x8026;&#x6570;&#x636e;&#x548c;&#x5904;&#x7406;"/>
<node CREATED="1612339257954" ID="ID_907585678" MODIFIED="1612339263807" TEXT="&#x751f;&#x4ea7;&#x8005;&#x6d88;&#x8d39;&#x8005;&#x6a21;&#x5f0f;&#xff01;&#xff01;&#xff01;">
<node CREATED="1614320480482" ID="ID_1713285977" MODIFIED="1614320492751" TEXT="&#x751f;&#x4ea7;&#x548c;&#x6d88;&#x8d39;&#x4e8c;&#x8005;&#x6709;&#x672c;&#x8d28;&#x7684;&#x6a21;&#x5f0f;&#x533a;&#x522b;">
<node CREATED="1614320492752" ID="ID_346748921" MODIFIED="1614320494629" TEXT="&#x751f;&#x4ea7;">
<node CREATED="1614320499502" ID="ID_1706718578" MODIFIED="1614320502744" TEXT="trigger&#x7c7b;">
<node CREATED="1614320503958" ID="ID_998416802" MODIFIED="1614320513769" TEXT="&#x5916;&#x754c;&#x4e8b;&#x4ef6;&#x89e6;&#x53d1;"/>
</node>
</node>
<node CREATED="1614320494897" ID="ID_1124365373" MODIFIED="1614320496445" TEXT="&#x6d88;&#x8d39;">
<node CREATED="1614320524971" ID="ID_1103759073" MODIFIED="1614320533914" TEXT="&#x5185;&#x5faa;&#x73af;">
<node CREATED="1614320533914" ID="ID_1200895022" MODIFIED="1614320537546" TEXT="&#x9700;&#x8981;work&#x7ebf;&#x7a0b;&#x652f;&#x6301;"/>
</node>
</node>
</node>
</node>
</node>
<node CREATED="1612337272174" ID="ID_341277952" MODIFIED="1612337414830" POSITION="left" TEXT="asynq vs persistsvc">
<node CREATED="1612337279692" ID="ID_126574845" MODIFIED="1612337285438" TEXT="&#x5355;&#x70b9;&#x591f;&#x5417;&#xff1f;">
<node CREATED="1612337314986" ID="ID_667078521" MODIFIED="1612337344449" TEXT="&#x57fa;&#x4e8e;reids&#x6d41;&#x8fd9;&#x79cd;&#x601d;&#x8def;&#xff0c;&#x5355;&#x70b9;&#x53bb;&#x505a;&#x5b58;&#x50a8;&#x80af;&#x5b9a;&#x662f;&#x8db3;&#x591f;">
<node CREATED="1612337330707" ID="ID_182838324" MODIFIED="1612337336199" TEXT="&#x6838;&#x5fc3;&#x538b;&#x529b;&#x5728;&#x6570;&#x636e;&#x5e93;&#x672c;&#x8eab;"/>
<node CREATED="1614320644248" ID="ID_401810072" MODIFIED="1614320652639" TEXT="redis&#x6d41;&#x672c;&#x8eab;&#x5e94;&#x8be5;&#x4e5f;&#x662f;&#x652f;&#x6301;&#x96c6;&#x7fa4;&#x7684;&#xff1f;"/>
<node CREATED="1614320652873" ID="ID_810974407" MODIFIED="1614320670714" TEXT="redis &#x6d41;&#x66f4;&#x5408;&#x7406;&#x7684;&#x662f;&#x548c;topic&#x5bf9;&#x63a5;&#x6982;&#x5ff5;&#xff1f;"/>
</node>
<node CREATED="1612337357932" ID="ID_643991631" MODIFIED="1612337377224" TEXT="&#x672c;&#x8d28;&#x4e0a;&#x8fd8;&#x662f;&#x65e0;&#x72b6;&#x6001;&#xff0c;&#x53ef;&#x968f;&#x610f;&#x91cd;&#x542f;&#x65e0;&#x6240;&#x8c13;"/>
<node CREATED="1612337346637" ID="ID_745365274" MODIFIED="1612337526162" TEXT="&#x538b;&#x529b;&#x672c;&#x8eab;&#x4f1a;&#x96c6;&#x4e2d;&#x5728;redis&#x6d41;&#x4e0a;&#xff0c;&#x6709;&#x591a;&#x5c11;&#x70ed;&#x6570;&#x636e;&#xff0c;&#x6d41;&#x91cc;&#x5c31;&#x6709;&#x53ef;&#x80fd;&#x591a;&#x5c11;&#x6570;&#x636e;"/>
<node CREATED="1612337632654" ID="ID_1913016976" MODIFIED="1612337643862" TEXT="&#x70ed;&#x6570;&#x636e;&#x7684;key&#x5728;&#x6d41;&#x91cc;&#x53ea;&#x6709;&#x4e00;&#x4efd;"/>
<node CREATED="1612337526614" ID="ID_1928386351" MODIFIED="1612337551123" TEXT="&#x5b58;&#x6863;&#x665a;&#x4e86;&#x65e0;&#x6240;&#x8c13;&#xff0c;&#x4e0d;&#x4f1a;&#x5bfc;&#x81f4;&#x79ef;&#x538b; ">
<node CREATED="1612337564500" ID="ID_714655051" MODIFIED="1612337576503" TEXT="&#x9700;&#x8981;&#x6709;&#x4e2a;&#x624b;&#x6bb5;&#x77e5;&#x9053;&#xff0c;&#xff0c;&#x5ef6;&#x8fdf;&#x4e86;&#x591a;&#x4e45;&#xff1f;"/>
</node>
</node>
</node>
<node CREATED="1612341829114" ID="ID_1317861570" MODIFIED="1612341831171" POSITION="left" TEXT="tips">
<node CREATED="1612341831452" ID="ID_1064335725" MODIFIED="1614320711708" TEXT="go select &#x6a21;&#x578b;&#xff1a; case i, ok := &lt;-send">
<node CREATED="1612341842848" ID="ID_63641843" MODIFIED="1612341858095" TEXT="&#x5224;&#x5b9a;ok&#x4e3a;false&#x51b3;&#x5b9a;&#x662f;&#x5426;&#x5df2;&#x5173;&#x95ed; "/>
</node>
<node CREATED="1612341948199" ID="ID_1782423510" MODIFIED="1614321163797" TEXT="golang switch case &#x5bf9;&#x4e8e;true/false&#x7684;&#x5224;&#x5b9a;&#x662f;&#x6709;&#x5e8f;&#x7684;&#xff0c;&#xff0c;&#x8fd1;&#x4f3c;&#x4e8e;if else if ...; ">
<node CREATED="1614321172420" ID="ID_528232230" MODIFIED="1614321174913" TEXT="SWITCH"/>
</node>
<node CREATED="1612342028000" ID="ID_1696963640" MODIFIED="1612342028604" TEXT="&#x4f46;&#x5982;&#x679c;&#x662f;chan&#x7684;select&#xff0c;&#xff0c;&#x591a;&#x4e2a;&#x6ee1;&#x8db3;&#x91cc;&#x4f1a;&#x968f;&#x673a;&#x9009;&#x62e9;&#x4e00;&#x4e2a;">
<node CREATED="1614321168056" ID="ID_1401992188" MODIFIED="1614321171059" TEXT="SELECT">
<node CREATED="1615602439881" ID="ID_354130084" MODIFIED="1615603514344" TEXT="case&#x4e4b;&#x95f4;&#xff0c;&#x904d;&#x5386;&#x591a;&#x4e2a;&#xff0c;&#x5bf9;&#x4e8e;&#x6ee1;&#x8db3;&#x7684;&#xff0c;&#x968f;&#x673a;&#x4e00;&#x4e2a;"/>
<node CREATED="1615603490731" ID="ID_303322115" MODIFIED="1615603504429" TEXT="&#x6ca1;&#x6ee1;&#x8db3;&#x7684;case">
<node CREATED="1615603516081" ID="ID_1478567070" MODIFIED="1615603520958" TEXT="&#x65e0;default&#xff0c;&#x5219;&#x963b;&#x585e;"/>
<node CREATED="1615603521226" ID="ID_657063219" MODIFIED="1615603525219" TEXT="&#x6709;default&#xff0c;&#x5219;&#x6258;&#x5e95;&#x6267;&#x884c;"/>
</node>
<node CREATED="1615603530687" ID="ID_1385065940" MODIFIED="1615603539272" TEXT="case &lt;-nil&#x4f1a;&#x6302;&#x8d77;"/>
</node>
</node>
<node CREATED="1612342438357" ID="ID_1538131715" MODIFIED="1612342461910" TEXT="&#x503c;&#x4e3a; nil &#x7684;chan&#xff0c;&#x4e0d;&#x4f1a;&#x5d29;&#x6e83;&#xff0c;&#x53ea;&#x4f1a;&#x6302;&#x8d77;"/>
</node>
<node CREATED="1614320601740" ID="ID_644474073" MODIFIED="1614320603453" POSITION="left" TEXT="&#x89e3;&#x51b3;&#x95ee;&#x9898;">
<node CREATED="1614320603454" ID="ID_734887292" MODIFIED="1614320606950" TEXT="&#x5927;&#x4e00;&#x7edf;&#x6846;&#x67b6;&#xff1f;"/>
<node CREATED="1614320607697" ID="ID_1388662935" MODIFIED="1614320612800" TEXT="&#x8bbe;&#x8ba1;&#x7ea6;&#x675f;&#x4e0b;&#x7b80;&#x5316;&#x5b9e;&#x73b0;&#xff1f;"/>
<node CREATED="1614320613562" ID="ID_1589915344" MODIFIED="1614320623015" TEXT="&#x6838;&#x5fc3;&#x8fd8;&#x662f;&#x770b;&#x8981;&#x89e3;&#x51b3;&#x4ec0;&#x4e48;&#x7c7b;&#x7684;&#x95ee;&#x9898;"/>
</node>
</node>
</map>

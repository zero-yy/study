<map version="1.0.1">
<!-- To view this file, download free mind mapping software FreeMind from http://freemind.sourceforge.net -->
<node CREATED="1636683520385" ID="ID_1191528151" MODIFIED="1636683529374" TEXT="1112 - dlock">
<node CREATED="1636683530024" ID="ID_1881512940" MODIFIED="1636684614224" POSITION="right" TEXT="etcd">
<node CREATED="1636708339629" ID="ID_1963073645" MODIFIED="1636708342316" TEXT="client">
<node CREATED="1636708343451" ID="ID_1074052894" MODIFIED="1636708346770" TEXT="grpc&#x652f;&#x6301;"/>
<node CREATED="1636708348219" ID="ID_1670252540" MODIFIED="1636708369300" TEXT="&#x4e00;&#x822c;&#x4e00;&#x4e2a;&#x5fae;&#x670d;&#x52a1;&#xff0c;&#x4e00;&#x4e2a;client&#x8db3;&#x77e3;&#xff0c;&#xff0c;&#x74f6;&#x9888;&#x4e0d;&#x5728;&#x901a;&#x4fe1;&#x4e0a;"/>
<node CREATED="1636708370169" ID="ID_1443208961" MODIFIED="1636708384001" TEXT="grpc http/2&#x5168;&#x53cc;&#x5de5; &#x5206;&#x6d41;&#xff0c;&#x4e0d;&#x963b;&#x585e;"/>
<node CREATED="1636708386396" ID="ID_1578504294" MODIFIED="1636708854655" TEXT="grpc &#x7ba1;&#x7406;balancer"/>
</node>
<node CREATED="1636684614225" ID="ID_1905624024" MODIFIED="1636684616341" TEXT="lease?">
<node CREATED="1636686499010" ID="ID_1625400399" MODIFIED="1636686501911" TEXT="min heap">
<node CREATED="1636708864461" ID="ID_1396635679" MODIFIED="1636708868979" TEXT="like go time heap"/>
</node>
<node CREATED="1636686502146" ID="ID_1859055593" MODIFIED="1636686503332" TEXT="unit">
<node CREATED="1636686503333" ID="ID_728173201" MODIFIED="1636686507116" TEXT="500ms..."/>
</node>
<node CREATED="1636686672652" ID="ID_492325206" MODIFIED="1636686673823" TEXT="ttl">
<node CREATED="1636686684800" ID="ID_1862220229" MODIFIED="1636686688228" TEXT="&#x751f;&#x547d;&#x671f;"/>
</node>
<node CREATED="1636686689152" ID="ID_209881076" MODIFIED="1636686692689" TEXT="keepalive">
<node CREATED="1636686692690" ID="ID_1874065114" MODIFIED="1636686698023" TEXT="&#x53ef;&#x4ee5;&#x624b;&#x52a8;&#x7eed;&#x547d;"/>
</node>
<node CREATED="1636708944920" ID="ID_1940911389" MODIFIED="1636708950293" TEXT="grant / revoke"/>
</node>
<node CREATED="1636686701720" ID="ID_701167982" MODIFIED="1636686710365" TEXT="&#x548c;lease&#x6302;&#x63a5;&#x7684;key&#x6216;&#x5176;&#x4ed6;">
<node CREATED="1636686710366" ID="ID_947418031" MODIFIED="1636686715285" TEXT="&#x81ea;&#x7136;&#x6709;&#x4e86;&#x751f;&#x547d;"/>
<node CREATED="1636686715958" ID="ID_1310787649" MODIFIED="1636686719994" TEXT="lease&#x5c31;&#x662f;&#x4ed6;&#x4eec;&#x7684;&#x4e0a;&#x5e1d;"/>
<node CREATED="1636686720454" ID="ID_1684127469" MODIFIED="1636686744911" TEXT="lease&#x7684;ttl&#x8fc7;&#x671f;&#xff0c;&#x4ed6;&#x4eec;&#x4e5f;&#x5c31;&#x6b7b;&#x4ea1;&#x4e86;"/>
</node>
<node CREATED="1636687515842" ID="ID_1433493307" MODIFIED="1636687517570" TEXT="session">
<node CREATED="1636687517571" ID="ID_215686318" MODIFIED="1636687528941" TEXT="&#x4f1a;&#x81ea;&#x52a8;keepAlive&#x5bf9;&#x5e94;&#x7684;lease"/>
<node CREATED="1636687529192" ID="ID_360114666" MODIFIED="1636687543657" TEXT="session close&#x540e;&#x505c;&#x6b62;&#x4ed6;&#x5bf9;lease&#x7684;alive keep"/>
</node>
<node CREATED="1636687440902" ID="ID_1452516261" MODIFIED="1636687444080" TEXT="mutex">
<node CREATED="1636687444081" ID="ID_1588239083" MODIFIED="1636687455518" TEXT="etcd&#x8282;&#x70b9;(&#x7c7b;&#x4f3c;&#x76ee;&#x5f55;&#xff09;">
<node CREATED="1636687457447" ID="ID_1918256554" MODIFIED="1636687475798" TEXT="&#x6bcf;&#x4e00;&#x4e2a;lock acquirer &#x662f;&#x4e00;&#x4e2a;&#x5b50;&#x8282;&#x70b9;"/>
<node CREATED="1636687476021" ID="ID_1745549776" MODIFIED="1636687479591" TEXT="&#x5148;&#x5230;&#x5148;&#x5f97;">
<node CREATED="1636709178923" ID="ID_1582752622" MODIFIED="1636709180558" TEXT="&#x516c;&#x5e73;"/>
</node>
<node CREATED="1636687480157" ID="ID_994351952" MODIFIED="1636687482788" TEXT="&#x901a;&#x77e5;&#x673a;&#x5236;"/>
<node CREATED="1636687483020" ID="ID_212418910" MODIFIED="1636687495763" TEXT="token&#xff0c;&#xff0c;&#x5173;&#x5fc3;&#x81ea;&#x5df1;&#x524d;&#x9762;&#x7684;&#x6392;&#x961f;&#x8005;&#xff1f;">
<node CREATED="1636709182641" ID="ID_183329327" MODIFIED="1636709188344" TEXT="waitDeletes(lastRevision)"/>
</node>
<node CREATED="1636709190154" ID="ID_1489874675" MODIFIED="1636709202789" TEXT="&#x5229;&#x7528;etcd &#x539f;&#x5b50;&#x4e8b;&#x52a1;tx"/>
</node>
</node>
<node CREATED="1636687912970" ID="ID_1677907394" MODIFIED="1636687917276" TEXT="mutex &#x5b9e;&#x73b0;&#x539f;&#x7406;&#x7ed3;&#x6784;">
<node CREATED="1636687917277" ID="ID_1543681428" MODIFIED="1636687921755" TEXT="prefix">
<node CREATED="1636687921756" ID="ID_928947554" MODIFIED="1636697145613" TEXT="hex-leaseId..x">
<node CREATED="1636687939323" ID="ID_215086467" MODIFIED="1636687942988" TEXT="with revision"/>
</node>
<node CREATED="1636687928630" ID="ID_1245909982" MODIFIED="1636697147143" TEXT="hex-leaseId..y">
<node CREATED="1636687939323" ID="ID_1522376881" MODIFIED="1636687942988" TEXT="with revision"/>
</node>
</node>
</node>
</node>
<node CREATED="1636697154895" ID="ID_1552943327" MODIFIED="1636697156847" POSITION="right" TEXT="etcd lock">
<node CREATED="1636697157083" ID="ID_699326386" MODIFIED="1636697168248" TEXT="&#x53ef;&#x91cd;&#x5165;">
<node CREATED="1636709212384" ID="ID_62364591" MODIFIED="1636709218585" TEXT="check leaseId"/>
</node>
<node CREATED="1636697180427" ID="ID_465289785" MODIFIED="1636697644065" TEXT="&#x81ea;&#x52a8;&#x8fc7;&#x671f;">
<node CREATED="1636709220287" ID="ID_134662590" MODIFIED="1636709229070" TEXT="lease  session"/>
</node>
<node CREATED="1636697651287" ID="ID_486961381" MODIFIED="1636697653631" TEXT="&#x81ea;&#x52a8;&#x91ca;&#x653e;"/>
</node>
<node CREATED="1636704838331" ID="ID_473945664" MODIFIED="1636704841214" POSITION="right" TEXT="performance">
<node CREATED="1636704848240" ID="ID_777145574" MODIFIED="1636704848240" TEXT="BenchmarkEtcdLock-16                         532          18555348 ns/op"/>
<node CREATED="1636704848241" ID="ID_545510595" MODIFIED="1636704848241" TEXT="BenchmarkEtcdLockParallel-16               8866       1377061 ns/op"/>
<node CREATED="1636704848242" ID="ID_1337396824" MODIFIED="1636704848242" TEXT="BenchmarkEtcdLockForPool-16                  541          18388270 ns/op"/>
<node CREATED="1636704848243" ID="ID_460806633" MODIFIED="1636704848243" TEXT="BenchmarkEtcdLockForPoolParallel-16         7126           1406486 ns/op"/>
</node>
<node CREATED="1636686396984" ID="ID_1490137329" MODIFIED="1636686399488" POSITION="left" TEXT="go">
<node CREATED="1636686399489" ID="ID_1638716433" MODIFIED="1636686402320" TEXT="1.9">
<node CREATED="1636686402321" ID="ID_1793884253" MODIFIED="1636686407438" TEXT="monotonic time">
<node CREATED="1636686407439" ID="ID_609844172" MODIFIED="1636686415436" TEXT="clock drift">
<node CREATED="1636686471077" ID="ID_1956569049" MODIFIED="1636686478419" TEXT="tolerance with "/>
</node>
<node CREATED="1636686419288" ID="ID_873580817" MODIFIED="1636686423642" TEXT="clock synchronization"/>
<node CREATED="1636686430206" ID="ID_383575752" MODIFIED="1636686437588" TEXT="Reliable!!!">
<node CREATED="1636686437589" ID="ID_430347482" MODIFIED="1636686439887" TEXT="etcd lease"/>
<node CREATED="1636686440333" ID="ID_1547625779" MODIFIED="1636686442419" TEXT="snowflake"/>
</node>
</node>
</node>
<node CREATED="1636709252782" ID="ID_766136107" MODIFIED="1636709257568" TEXT="redis &#x4e5f;&#x53ef;&#x4ee5;"/>
<node CREATED="1636709257804" ID="ID_1268497265" MODIFIED="1636709278812" TEXT="&#x4f46;&#x662f; &#x53ef;&#x4ee5;&#x4e0d;&#x4ee3;&#x8868;&#x6700;&#x5408;&#x9002;"/>
<node CREATED="1636709279151" ID="ID_221692456" MODIFIED="1636709292342" TEXT="&#x5de5;&#x5177;&#x591a;&#x4e86;&#xff0c;&#x5c31;&#x4e0d;&#x4f1a;&#x603b;&#x60e6;&#x8bb0;&#x9524;&#x5b50;&#x4e86;"/>
</node>
</node>
</map>
